# Apigee X Deployment - Jira Story Table with Acceptance Criteria

|   S.No | Story                                                                  | Description                                                                                        | Acceptance Criteria                                                                                        |   Story Points |
|-------:|:-----------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------|---------------:|
|      1 | Design Platform-based Terraform module                                 | Create a Terraform module to support platform-based Apigee deployment instead of core/LOB model.   | Terraform code committed to version control. Inputs and outputs defined. Module initializes without error. |              5 |
|      2 | Automate GCP project creation with naming convention                   | Create a script/module to automate GCP project provisioning based on predefined naming convention. | Script accepts org/folder params. Output follows naming standard. Billing and API steps included.          |              3 |
|      3 | Enable required GCP APIs for Apigee Deployment                         | Enable GCP APIs like Apigee, Compute Engine, IAM, and Service Networking for Apigee Deployment.    | APIs enabled using script. Output confirms APIs active. Validated using gcloud CLI.                        |              2 |
|      4 | Implement Apigee X Instance provisioning                               | Deploy Apigee X instance using Terraform in EngLab project.                                        | Apigee instance appears in console. Terraform apply succeeds. Instance status is ACTIVE.                   |              5 |
|      5 | Create Apigee runtime and control plane service accounts               | Provision appropriate service accounts with required IAM permissions.                              | Service accounts created. IAM roles assigned. Outputs include SA emails.                                   |              3 |
|      6 | Assign IAM roles for Apigee and networking to respective SAs           | Assign fine-grained roles to runtime and network service accounts.                                 | IAM bindings in place. Roles verified in Terraform plan. gcloud IAM check passes.                          |              2 |
|      7 | Add environment and environment group creation to platform module      | Add support for Apigee environment and environment group in Terraform module.                      | Environment and group created. Naming standard followed. Zone binding set.                                 |              5 |
|      8 | Create VPC and Subnet for Apigee X                                     | Define and provision custom VPC and subnets for Apigee X.                                          | VPC/subnets created. Private Google Access enabled. Verified in GCP.                                       |              3 |
|      9 | Setup Private Service Connect (PSC) for Apigee runtime                 | Configure PSC for private connectivity to Apigee runtime.                                          | PSC endpoint reachable. IP is internal only. curl validation works.                                        |              3 |
|     10 | Validate firewall rules for network components                         | Ensure all firewall rules are correctly set for Apigee and backend communication.                  | All required ingress/egress rules created. Validated using gcloud CLI.                                     |              2 |
|     11 | Provision Apigee instance in EngLab                                    | Final provisioning of Apigee instance using validated network and IAM setup.                       | Instance created. Listed in gcloud apigee instances. No errors during provisioning.                        |              3 |
|     12 | Create Apigee environments for EngLab and Test                         | Create and validate environments within the provisioned Apigee instance.                           | Two environments created and grouped. Deployment returns 200.                                              |              3 |
|     13 | API Product and Developer app creation blocks                          | Add API product and app creation to the Terraform module.                                          | Products and apps created. Linked to proxies. Visible in console.                                          |              3 |
|     14 | Provision ILB for Apigee Service Exposure                              | Create an internal load balancer for exposing Apigee runtime to internal clients.                  | ILB created. Forwarding rules and health check configured. curl test succeeds.                             |              3 |
|     15 | Reserve Static Internal IP for Apigee ILB                              | Allocate internal IP address for the ILB.                                                          | Static IP reserved and assigned. Verified via gcloud compute addresses.                                    |              1 |
|     16 | Configure backend service and health checks for ILB                    | Define ILB backend service and configure health checks.                                            | Backend service bound. Health checks green. Verified in GCP.                                               |              3 |
|     17 | Create certificate for ILB endpoint                                    | Generate and provision certificate for secure ILB endpoint.                                        | Cert created and matches ILB domain. In PEM/CRT format.                                                    |              2 |
|     18 | Upload certificate to Apigee Environment keystore                      | Add certificate to Apigee keystore associated with the environment.                                | Cert uploaded and visible. No errors. Matches vhost domain.                                                |              2 |
|     19 | Create Truststore in Apigee with backend root/intermediate certs       | Add backend CA certificates to Apigee truststore.                                                  | Certs added to truststore. SSL connection succeeds. Trust validated.                                       |              2 |
|     20 | Link keystore to Apigee Virtual Host                                   | Bind keystore to the virtual host for TLS termination.                                             | Vhost has TLS block. curl returns 200 over HTTPS.                                                          |              2 |
|     21 | Configure Apigee Virtual Host for TLS and bind it to environment group | Setup and bind virtual host to environment group with TLS enabled.                                 | Vhost is reachable on 443. DNS matches cert. Verified end-to-end.                                          |              3 |
|     22 | Validate Virtual Host routing with TLS Enabled                         | Test and verify routing through TLS-enabled virtual host.                                          | SSL handshake successful. curl returns 200. No TLS errors.                                                 |              2 |
|     23 | Add Terraform outputs for TLS VHost and Environment group              | Add final outputs to Terraform for TLS virtual host and env group references.                      | Terraform shows vhost name, env group, and IP in outputs.                                                  |              1 |